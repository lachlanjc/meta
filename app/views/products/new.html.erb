<% title 'Start a new product' %>
<% activate_nav! :platform_create %>
<%= render 'shared/navbar' %>

<div class="container">
  <div class="clearfix">
    <div class="col-8 mx-auto">
      <div class="bg-white rounded shadow mt4 mb4 p4">

        <h1 class="center yellow mb4">
          <%= react_component 'Icon', icon: 'building' %>
        </h1>


        <%= form_for @product, html: {class: 'form'} do |f| %>
          <% if params[:idea_id] %>
            <input name="product[idea_id]" type="hidden" value="<%= params[:idea_id] %>">
          <% end %>

          <%= form_group @product, :name, class: 'mb3' do %>
            <%= f.label :name, class: 'control-label' %>
            <p class="h6 gray-2">
              A name is important, but it can always change. If you have a codename already, use that, otherwise don't get too hung up on making it perfect.
            </p>
            <% if params[:name] %>
            <%= f.text_field :name, class: 'form-control', autofocus: true, value: params[:name] %>
            <% else %>
              <%= f.text_field :name, class: 'form-control', autofocus: true %>
            <% end %>
          <% end %>

          <%= form_group @product, :pitch, class: 'mb3' do %>
            <%= f.label :pitch, 'Five word pitch', class: 'control-label' %>
            <p class="h6 gray-2">If you had 30 seconds to describe your product to a friend, what would you say? Use simple, direct words.</p>
            <%= f.text_field :pitch, class: 'form-control', placeholder: @four_word_story_example, value: params[:pitch] || '' %>
          <% end %>

          <%= form_group @product, :description, class: 'mb3' do %>
            <%= f.label :description, 'Blurb', class: 'control-label' %>
            <p class="h6 gray-2">How did you come up with the idea? What makes it great? Describe your vision, the problem it's solving and your advantage over the competition.</p>
            <%= f.text_area :description, class: 'form-control',  value: params[:blurb] || '', rows: 8 %>
          <% end %>
          <% if params[:idea_id] %>
            <h5>Reward early supporters</h5>
            <p class="h6 gray-2">
              Coins are how Assembly tracks ownership. Reward the people who supported your idea through hearts or comments by awarding them ten coins in your product.
            </p>

            <%= react_component 'CreateProduct', participants: @participants %>
          <% else %>
            <h5>Ownership</h5>
            <p class="h6 gray-2 mb3">
              You will start off with 100% of the ownership of this product. You will be able to distribute ownership to contributors and other people after your product is created.
            </p>
          <% end %>


          <div class="left-align">

            <div class="right ml3">
              <button class="button button-primary button-block" data-disable-with="Starting...">Create Your Product</button>
            </div>

            <p class="h6 gray-2 py1">By creating this product, you agree to Assembly's <a href="<%= tos_path %>">Terms of Service</a>.</p>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>

<%= render 'shared/footer' %>
